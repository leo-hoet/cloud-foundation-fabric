# Google Cloud Data Fusion Module

This module allows simple management of ['Google Cloud Endpoints'](https://cloud.google.com/endpoints/) services. It supports creating ['OpenAPI'](https://cloud.google.com/endpoints/docs/openapi) or ['gRPC'](https://cloud.google.com/endpoints/docs/grpc/about-grpc). 

## Examples

### OpenAPI

```hcl
module "endpoint" {
  source         = "../../modules/endpoint"
  project_id     = local.project_id
  service_name   = local.service_name
  openapi_config = local.openapi_config
  iam_roles      = ["servicemanagement.serviceController"]
  iam_members    = {
    "servicemanagement.serviceController" = ["serviceAccount:PROJECT_NUMBER-compute@developer.gserviceaccount.com"]
  }
}
```

<!-- BEGIN TFDOC -->
## Variables

| name | description | type | required | default |
|---|---|:---: |:---:|:---:|
| service_name | The name of the service. Usually of the form '$apiname.endpoints.$projectid.cloud.goog'. | <code title="">string</code> | âœ“ |  |
| *grpc_config* | The path to the full text of the Service Config YAML file. | <code title="">string</code> |  | <code title="">null</code> |
| *iam_members* | Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. Other roles within the IAM policy for the instance are preserved. | <code title="map&#40;list&#40;string&#41;&#41;">map(list(string))</code> |  | <code title="">{}</code> |
| *iam_roles* | Authoritative for a given role. Updates the IAM policy to grant a role to a list of members. | <code title="list&#40;string&#41;">list(string)</code> |  | <code title="">[]</code> |
| *openapi_config* | The path to the full text of the OpenAPI YAML configuration. Either this, or both of grpc_config and protoc_output_base64 must be specified. | <code title="">string</code> |  | <code title="">null</code> |
| *project_id* | The project ID that the service belongs to. | <code title="">string</code> |  | <code title="">null</code> |
| *protoc_output_base64* | The path to the full contents of the Service Descriptor File generated by protoc. | <code title="">string</code> |  | <code title="">null</code> |

## Outputs

| name | description | sensitive |
|---|---|:---:|
| endpoint_service | The Endpoint service resource. |  |
| endpoints | A list of Endpoint objects. |  |
| service_name | The name of the service.. |  |
<!-- END TFDOC -->
